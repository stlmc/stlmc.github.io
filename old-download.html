<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Download | STLMC</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Download" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://stlmc.github.io/old-download.html" />
<meta property="og:url" content="https://stlmc.github.io/old-download.html" />
<meta property="og:site_name" content="STLMC" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Download" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://stlmc.github.io/old-download.html","headline":"Download","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://stlmc.github.io/feed.xml" title="STLMC" />
  
  
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">STLMC</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/tutorial/">Tutorial</a><a class="page-link" href="/download/">Download</a><a class="page-link" href="/benchmarks/">Benchmarks</a><a class="page-link" href="/documents/">Docs</a><a class="page-link" href="/cav2022-artifact/">Artifact</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <div class="post-content justify">
    <h4 id="install-the-stlmc-tool">Install the STLmc Tool</h4>

<p>The STLmc tool is written in Python. 
The tool is available for Ubuntu 18.04 (64-bit) and macOS (64-bit). 
There are two ways to install the tool:</p>

<!-- no toc -->
<ol>
  <li><a href="#install-the-tool-from-source-code">Install the Tool from Source Code</a></li>
  <li><a href="#install-the-tool-from-vagrant">Install the Tool from Vagrant</a></li>
</ol>

<p><em>Remark: Our tool can be run on <a href="https://ubuntu.com/download">Ubuntu 18.04</a> only.
We made this restriction because one of our underlying SMT solvers, Yices2, does not support Ubuntu 20.04 on Ubuntu PPA.</em>
<br /></p>

<hr />

<h4 id="install-the-tool-from-source-code">Install the Tool from Source Code</h4>

<p><strong>1. Prerequisites</strong></p>

<p>The following libraries are prerequisites for our tool:</p>

<ul>
  <li>Python3 (3.8.6) or newer: <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></li>
  <li>Java8 or newer: <a href="https://openjdk.java.net/install/">https://openjdk.java.net/install/</a></li>
  <li>
    <p>Python3-pip: <a href="https://pypi.org/">https://pypi.org/</a></p>

    <p>Please make sure that pip is up-to-date. Otherwise some Python libraries STLmc used, such as numpy, may fail to be installed.</p>
  </li>
  <li>
    <p>Yices2: <a href="https://github.com/SRI-CSL/yices2/">https://github.com/SRI-CSL/yices2/</a></p>

    <p>Our artifact needs MCSAT-enabled version of Yices2. Please follow the below installation steps to get this specific version of Yices2:</p>

    <p><strong>Ubuntu or Debian</strong></p>

    <p>To install Yices on Ubuntu or Debian, do the following:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  sudo apt install software-properties-common
  sudo add-apt-repository ppa:sri-csl/formal-methods
  sudo apt-get update
  sudo apt-get install yices2-dev
</code></pre></div>    </div>

    <p><strong>MacOS</strong></p>

    <p>To install on Darwin, use homebrew:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew install SRI-CSL/sri-csl/yices2
</code></pre></div>    </div>

    <p><em>Remark: Some experiments may not run properly on the following architectures:
  Apple MacBook Pro 2015 or earlier (Yices 2.6 with QF-NRA is not working).</em></p>
  </li>
  <li>
    <p>Z3: <a href="https://github.com/Z3Prover/z3/">https://github.com/Z3Prover/z3/</a></p>

    <p><strong>Ubuntu or Debian</strong></p>

    <p>Normally, Z3 solver is automatically installed when downloading its Python3 package (i.e., using pip3 install z3-solver).</p>

    <p><strong>MacOS</strong></p>

    <p>Normally, Z3 solver is automatically installed as in Linux environment. But for some cases, we found that one may need to install Z3 binaries manually. This can be done using the following command:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew install z3
</code></pre></div>    </div>
  </li>
  <li>
    <p>Gnuplot: <a href="http://www.gnuplot.info/">http://www.gnuplot.info/</a></p>

    <p>STLmc uses ‘Gnuplot’ to visualize counterexample graphs. You can install Gnuplot using the following command:</p>

    <p><strong>Ubuntu or Debian</strong></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  sudo apt install gnuplot
</code></pre></div>    </div>

    <p><strong>MacOS</strong></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew install gnuplot
</code></pre></div>    </div>
  </li>
</ul>

<p><br /></p>

<p><strong>2. Installation</strong></p>

<p>To install the tool, follow the below instructions:</p>

<ol>
  <li>Download the source code (<a href="https://tinyurl.com/55vfu7cr">stlmc-tool.zip</a>) and unzip it.</li>
  <li>
    <p>Install the following python packages:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> pip3 install termcolor yices z3-solver antlr4-python3-runtime==4.9.1 sympy numpy bokeh scipy
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run the following command:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd stlmc-tool &amp;&amp; make
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use the following command to run smoke tests for our installation:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> make test
</code></pre></div>    </div>

    <p>This command requires sudo permission. The command tests if all neccessary executables exist and are set to right permissions.
  Also, it tests underlying SMT solvers (i.e., Z3, Yices2, and dReal) using several smt2 
  test cases for integrity. Then, it tests STLmc using test STLmc models in ‘tests’ subdirectory.</p>

    <p><em>Remark: One may see ‘clock skew warning’. To resolve this, use the following command in the ‘stlmc’ directory:</em></p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> find . -exec touch {} \;
</code></pre></div>    </div>
  </li>
  <li>
    <p>If the tests succeed, you will see the following messages:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>start smoke test ...
[exec] Python: pass
[exec] Yices: pass
[exec] dReal: pass
[exec] Z3: pass
[exec] Java: pass
[exec] Gnuplot: pass
[file] Config: pass
[smt] dReal
  ./tests/smt2/dreal/01.smt2: pass
  ./tests/smt2/dreal/02.smt2: pass
[smt] Z3
  ./tests/smt2/z3/01.smt2: pass
  ./tests/smt2/z3/02.smt2: pass
[smt] Yices
  ./tests/smt2/yices2/01.smt2: pass
  ./tests/smt2/yices2/02.smt2: pass
[tool] STLmc
  ./tests/stlmc/01.model: pass
  ./tests/stlmc/02.model: pass
</code></pre></div>    </div>
    <p><br /></p>
  </li>
</ol>

<p>STLmc uses the following SMT solvers as its underlying SMT solvers:</p>

<ul>
  <li>Z3: <a href="https://github.com/Z3Prover/z3/">https://github.com/Z3Prover/z3/</a></li>
  <li>Yices2: <a href="https://github.com/SRI-CSL/yices2/">https://github.com/SRI-CSL/yices2/</a></li>
  <li>dReal: <a href="https://github.com/dreal/dreal3/">https://github.com/dreal/dreal3/</a></li>
</ul>

<p>The archive file already contains dReal under the directory “stlmc-tool/stlmc/3rd_party”.
Please see <a href="/assets/files/cav2022-artifact/Readme.txt">Readme.txt</a> for instructions to run the experiments.</p>

<hr />

<h4 id="install-the-tool-from-vagrant">Install the Tool from Vagrant</h4>

<p>We provide a vagrant set-up '<a href="https://tinyurl.com/yv2e89p9">STLmc-Tool-Vagrant.zip</a>'.
You can create a VirtualBox image using Vagrant (<a href="https://www.vagrantup.com">https://www.vagrantup.com</a>) as follows:</p>

<ol>
  <li>Download and unzip the archive file (<a href="https://tinyurl.com/yv2e89p9">STLmc-Tool-Vagrant.zip</a>).</li>
  <li>
    <p>Use the following command to initialize Vagrant:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cd STLmc-Tool-Vagrant &amp;&amp; vagrant up
</code></pre></div>    </div>
    <p>Vagrant automatically creates a VM image for our artifact.</p>

    <p><em>Remark: At the end of the creation, one may see ‘clock skew warning’. To resolve this, please refer to the step 5 below.</em></p>
  </li>
  <li>
    <p>To use the generated VM image, use ssh connect as follows:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> vagrant ssh
</code></pre></div>    </div>
  </li>
  <li>
    <p>If succeed, you can see the artifact directory 'stlmc-tool' as follows:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> vagrant@ubuntu-bionic:~$ ls
 stlmc-tool
</code></pre></div>    </div>
  </li>
  <li>
    <p>(Optional step) When the ‘clock skew warning’ occurred, use the following command in the ‘stlmc-tool’ directory:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> vagrant@ubuntu-bionic:~/stlmc-tool$ find . -exec touch {} \;
</code></pre></div>    </div>
  </li>
</ol>

<p>Vagrant generates VM with a name ‘ubuntu-bionic’ and a username ‘vagrant’.</p>

<p>In general, we don’t need any sudo permission to use/reproduce our artifact. 
But for your information, the password of ‘vagrant’ is ‘vagrant’.</p>


  </div>

</article>

      </div>
    </main>
  </body>

</html>
